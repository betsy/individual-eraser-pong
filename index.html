<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Socket.io</title>
    </head>
 
    <body>
        <canvas id="myCanvas"></canvas>
        <script src="/socket.io/socket.io.js"></script>
        <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
        <script src="game.js"></script>
        <script src="display.js"></script>
        <script>

canvas.addEventListener("mousedown",function(e){
    var mousePos = getMousePos(canvas, e);
    var clickx = (mousePos.x - (mousePos.x%game.consts.block_size))/game.consts.block_size;
    var clicky = (mousePos.y - (mousePos.y%game.consts.block_size))/game.consts.block_size;
    game.click_boxes(boxes, clickx, clicky);
    socket.emit('clicked', clickx, clicky);
});

function getMousePos(canvas, evt) {
  var rect = canvas.getBoundingClientRect();
  return {
    x: evt.clientX - rect.left,
    y: evt.clientY - rect.top
  };
}
            </script>
        </body>
    </body>
</html>